<!DOCTYPE html><html lang=en><head><meta http-equiv=content-type content="text/html; charset=UTF-8"><meta name=viewport content="width=device-width, initial-scale=1"><title>Version Control Jupyter Notebooks with Git | Bildungsroman</title><meta name=robots content=noindex><meta property=og:title content=Version control jupyter notebooks with git><meta property=og:site_name content=Bildungsroman><meta property=og:type content=article><link rel=stylesheet href=https://febkor.github.io/Blog/static/main.css><link rel="shortcut icon" type=image/x-icon href=https://febkor.github.io/Blog/static/favicon.ico><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12/dist/katex.min.css crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12/dist/katex.min.js crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded", function () {
    var mathElements = document.getElementsByClassName("math");
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") { katex.render(texText.data, mathElements[i], { displayMode: mathElements[i].classList.contains("display"), throwOnError: false } );
    }}});</script></head><body><header class=site-header role=banner><div class=wrapper><a class=site-title rel=author href=https://febkor.github.io/Blog>Bildungsroman</a><nav class=site-nav><input type=checkbox id=nav-trigger class=nav-trigger><label for=nav-trigger></label></nav></div></header><main class=page-content aria-label=Content><div class=wrapper><article class="post h-entry" itemscope itemtype=http://schema.org/BlogPosting><header class=post-header><h1 class="post-title p-name" itemprop="name headline">Version Control Jupyter Notebooks with Git</h1></header><div class="post-content e-content" itemprop=articleBody><p>When version controlling Jupyter Notebooks using Git, it is often desirable that the notebook is stripped of any output. This is so that the diffs are smaller, more meaningful and thus slightly easier to review.</p><p>The approach outlined here is to run a Git filter when the notebook is staged.</p><h2 id=step-1>Step 1</h2><p>Add the following to the local <code>.git/config</code> or global <code>~/.gitconfig</code> files:</p><pre><code>[filter &quot;jupyter-clear-output&quot;]
    clean = &quot;jupyter nbconvert --clear-output --inplace --stdin --stdout --log-level=ERROR&quot;</code></pre><p>You can directly edit the config files or run this on the command line:</p><pre><code>git config --global filter.jupyter-clear-output.clean &quot;jupyter nbconvert --clear-output --inplace --stdin --stdout --log-level=ERROR&quot;</code></pre><p>This clears the output blocks from the notebook when the notebook is staged. Ensure that <code>jupyter</code> is available from the command-line.</p><h2 id=step-2>Step 2</h2><p>Add this to the repo&#x2019;s <code>.gitattributes</code> file:</p><pre><code>*.ipynb filter=jupyter-clear-output</code></pre><p>This runs the git filter defined earlier for all ipynb files.</p><p>Note that other members of the team will have to Step 1, as only the <code>.gitattributes</code> file is stored in the repo.</p><h2 id=references>References</h2><ul><li><a href=http://tillahoffmann.github.io/2017/04/17/versioning-jupyter-notebooks-with-git.html class=uri>http://tillahoffmann.github.io/2017/04/17/versioning-jupyter-notebooks-with-git.html</a></li><li><a href=https://stackoverflow.com/questions/28908319/how-to-clear-an-ipython-notebooks-output-in-all-cells-from-the-linux-terminal class=uri>https://stackoverflow.com/questions/28908319/how-to-clear-an-ipython-notebooks-output-in-all-cells-from-the-linux-terminal</a></li><li><a href=https://git-scm.com/book/en/v2/Customizing-Git-Git-Attributes#filters_b class=uri>https://git-scm.com/book/en/v2/Customizing-Git-Git-Attributes#filters_b</a></li></ul></article></div></main><footer class="site-footer h-card"><data href=/ class=u-url></data><div class=wrapper><h2 class=footer-heading>Bildungsroman</h2><div class=footer-col-wrapper><div class="footer-col footer-col-1"><ul class=contact-list><li class=p-name>febkor</li></ul></div></div></div></div></footer></body></html>